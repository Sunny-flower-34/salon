<section class="section">
  <div class="container">
    <h1 class="title">新規投稿</h1>
    <% if @post.errors.any? %>
    <div class="notification is-danger">
      <h2><%= pluralize(@post.errors.count, "エラー") %> prohibited this object from being saved: not successfully</h2>
      <ul>
        <% @post.errors.full_messages.each do |message| %>
        <li><%= message %></li>
        <% end %>
      </ul>
    </div>
    <% end %>
    <div class="post">
      <div class="post-form">

        <%= form_with model: @post, local: true do |f| %>

        <div class="post-form__field">
          <%
=begin%>
          <% if f.object.image.attached?%>
          <div class="image-preview">
            <%= image_tag  f.abject.image %>
          </div>
          <% end %>
          <%
=end%>
          <div class="post-form__field__photo">Photo
            <%= f.label :image, class: "label" do %>
            <span><i class="far fa-image"></i></span>
            <%= f.attachment_field :image, class: "display-none" %>
            <% end %>
          </div>
        </div>
        <div class="post-form__field">
          <%= f.label :title, "タイトル", class: "label" %>
          <%= f.text_field :title, class: "input-default" %>
        </div>


        <div class="post-form__field">
          <%= f.label :body, "投稿内容", class: "label" %>
          <%= f.text_area :body, class: "textarea input-default" %>
        </div>


        <div class="post-form__field">
          <%= f.submit '投稿！', class: "button1" %>
        </div>
        <% end %>


      </div>

    </div>
  </div>
</section>